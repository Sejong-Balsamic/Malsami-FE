# Malsami-FE 프로젝트 코드 스타일 가이드라인 요약

## 프로젝트 구조

- **components/**: 재사용 가능한 UI 컴포넌트
  - **common/**: 공통 컴포넌트
  - **[feature]/**: 기능별 컴포넌트 (ex: documentMain, questionPost)
  - **shadcn/**: Shadcn UI 컴포넌트
  - **common/skeletons/**: 스켈레톤 컴포넌트
- **apis/**: API 관련 함수들
- **types/**: TypeScript 타입 정의
- **global/**: 전역 상태 및 유틸리티
- **app/**: Next.js App Router 페이지

## 명명 규칙

### 기본 원칙

- **명확성 우선**: 간결함보다 명확성과 정확성을 우선시
- **독특함과 직관성**: 흔한 패턴을 피하되 직관적이어야 함
- **자체 설명**: 추가 주석 없이도 의도가 명확해야 함

### 파일 및 폴더명

- **컴포넌트**: PascalCase (예: DocumentUploadCard.tsx)
- **유틸/헬퍼**: camelCase (예: documentValidator.ts)

### 변수명

- **Boolean 변수**: 반드시 is 접두사 사용 (예: isLoading, isModalOpen)
- **일반 변수**: 설명적이고 명확한 이름 사용
- **함수/메소드명**: 동작 중심 명명 (예: validateUserCredentials)
- **이벤트 핸들러**: handle 접두사 사용 (예: handleDocumentUpload)

### 상수명

- **UPPER_SNAKE_CASE** 사용 (예: MAX_DOCUMENT_SIZE_BYTES)

## 컴포넌트 작성법

### 기본 구조

1. 훅 선언
2. 상태 선언
3. 이벤트 핸들러
4. useEffect
5. 조건부 렌더링
6. 메인 렌더링

### Props 인터페이스

- 컴포넌트명 + Props 형태로 명명 (예: DocBoardCardProps)
- 인터페이스 내 필수/선택적 프로퍼티 구분

## 스타일링 & 디자인 시스템

### 색상 시스템 (Tailwind 커스텀 토큰 사용)

모든 색상은 **tailwind.config.ts** 의 확장 색상 토큰을 사용하여 적용합니다. 하드코딩된 HEX 값 사용 금지!

| 분류 | Tailwind Token | HEX | 용도 |
|------|----------------|-----|------|
| 게시판 | question-main | #00E271 | 질문 게시판 메인 컬러 및 버튼 BG |
| 게시판 | document-main | #00D1F2 | 자료 게시판 메인 컬러 |
| 태그 | tag-yeopjeon | #FFB000 | 엽전 태그 BG/아이콘 |
| 태그 | tag-accept | #3D8BFF | "채택" 태그 BG |
| 태그 | tag-preset-question-bg | #E2E2E2 | 질문 프리셋 태그 BG |
| 태그 | tag-preset-question-text | #898989 | 질문 프리셋 태그 텍스트 |
| 태그 | tag-custom-bg | #E2E2E2 | 커스텀 태그 BG |
| 태그 | tag-custom-text | #898989 | 커스텀 태그 텍스트 |
| UI | ui-body | #616161 | 본문·아이디 기본 텍스트 |
| UI | ui-muted | #C5C5C5 | 회색 보조 텍스트 |
| UI | ui-count | #ACACAC | 좋아요·댓글·조회수 숫자 |
| UI | ui-disabled | #C5C5C5 | 비활성 버튼 BG |
| UI | ui-divider | #F0F0F0 | 얇은 가로 구분선 |
| UI | ui-divider-thick | #EDEDED | 두꺼운 4px 구분선 |

> tailwind.config.ts 예시
> ```ts
> extend: {
>   colors: {
>     question: { main: "#00E271" },
>     document: { main: "#00D1F2" },
>     tag: {
>       yeopjeon: "#FFB000",
>       accept: "#3D8BFF",
>       "preset-question-bg": "#E2E2E2",
>       "preset-question-text": "#898989",
>       "custom-bg": "#E2E2E2",
>       "custom-text": "#898989",
>     },
>     ui: {
>       body: "#616161",
>       muted: "#C5C5C5",
>       count: "#ACACAC",
>       disabled: "#C5C5C5",
>       divider: "#F0F0F0",
>       "divider-thick": "#EDEDED",
>     },
>   },
> }
> ```

색상 사용 예시
```tsx
// 질문 게시판 메인 버튼
<button className="bg-question-main text-white">질문하기</button>

// 엽전 태그
<div className="bg-tag-yeopjeon text-white">20</div>

// 좋아요 숫자
<span className="text-ui-count">32</span>

// 두꺼운 구분선
<div className="h-[4px] w-full bg-ui-divider-thick rounded-[2px]" />
```

### 타이포그래피

- SUIT 폰트 사용 (text-SUIT_16, text-SUIT_14 등)
- 용도별 크기: 제목(SUIT_24), 섹션 제목(SUIT_18), 본문(SUIT_14)

#### 기존 하드코딩된 폰트 스타일 수정 가이드라인

**잘못된 예시:**

```tsx
// ❌ 하드코딩된 폰트 스타일
<h2 className="font-suit-medium text-[16px]">제목</h2>
<h1 className="font-suit-bold text-[16px]">제목</h1>
```

**올바른 예시:**

```tsx
// ✅ 디자인 시스템 사용
<h2 className="text-SUIT_18 font-medium">제목</h2>
<h1 className="text-SUIT_18 font-bold">제목</h1>
```

**수정 규칙:**

- `font-suit-medium text-[16px]` → `text-SUIT_18 font-medium`
- `font-suit-bold text-[16px]` → `text-SUIT_18 font-bold`
- `font-suit-medium text-[14px]` → `text-SUIT_14 font-medium`
- 모든 하드코딩된 폰트 크기는 디자인 시스템 토큰으로 변경

### 반응형 디자인

- 브레이크포인트: xs(375px), sm(640px), md(768px), lg(1024px), xl(1280px)
- 모바일 우선 접근법 사용

## 동적 레이아웃 구현 원칙

- 하드코딩된 크기 대신 동적/반응형으로 구현
- Flex/Grid 기반 레이아웃 사용
- rem 단위 사용 (16px = 1rem)
- 상대적 크기 사용 (w-full, w-1/2, flex-1)

## Skeleton UI 규칙

### 위치 및 명명

- **src/components/common/skeletons/** 폴더에 위치
- 원본 컴포넌트명 + Skeleton 형태로 명명

### 스켈레톤 구조

- animate-pulse 클래스 사용
- 원본 컴포넌트와 동일한 구조 유지
- props 사용 금지 (완전히 하드코딩)
- 고정된 개수와 구조로 렌더링

## 상태 관리

### Redux Slice 구조

- 슬라이스 파일 명명: [feature]Slice.ts
- 액션 명명: 동사 형태 (camelCase)

### 커스텀 훅 규칙

- use 접두사 사용 (예: useUserPermissions)
- 관련 상태와 함수를 객체로 반환

## API 통신

### API 파일 구조

- **appClient.ts**: Axios 인스턴스
- **apiUtils.ts**: API 공통 유틸리티
- **[feature]Api.ts**: 기능별 API 모듈

### API 함수 명명

- 동사 + 명사 형태 (예: fetchDocuments, createDocument)
- 백엔드 코드와 동기화

### API 통신 규칙

- FormData 기반 통신
- Command/Dto 패턴 사용
- 적절한 에러 처리

## 코드 품질

### 조건부 렌더링

- 명확한 조건문 사용
- 로딩/에러/빈 상태 처리

### 컴포넌트 최적화

- React.memo, useMemo, useCallback 적절히 사용
- 불필요한 렌더링 방지

## 중요!!

## 페이지 레이아웃 규칙

- 고정 헤더가 필요한 페이지는 다음 구조를 기본으로 한다.
  1. `fixed top-0 z-50 w-full max-w-[640px] bg-white` 클래스로 헤더를 고정한다.
  2. 헤더 높이만큼의 스페이서를 바로 아래에 배치한다. (`<div class="h-16 w-full" />`)
- 루트 컨테이너: `min-h-screen bg-white` 로 배경과 높이를 통일한다.
- 본문 컨테이너: `relative mx-auto w-full max-w-[640px] px-5` 로 좌우 패딩 및 최대 폭을 맞춘다.
- 섹션 간 간격은 Tailwind spacing scale을 사용한다. (예: `mt-4`=16px, `mt-3`=12px, `mt-2`=8px, `px-1.5`=6px)
- 가로 스크롤 영역은 음수 마진을 사용하지 않고, `overflow-x-auto` 컨테이너 내부에 `flex gap-?` 요소를 배치한다.
- 구분선
  - 얇은 선: `h-[1px] bg-[#D7D7D7]`
  - 두꺼운 선: `h-[4px] w-full max-w-[433px] rounded-[2px] bg-[#EDEDED]`
- 좋아요/댓글 액션 영역 위치: `ml-[91px]` 오프셋 후 아이콘과 숫자 간 `gap-[8px]` 유지.
- 날짜 표시는 `src/global/time.ts` 의 `formatDateTime` 유틸을 통해 `MM/DD HH:mm` 형식으로 렌더링한다.
